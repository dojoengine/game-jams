import{N as o,v as r}from"./chunk-T6XYST2Q.js";import*as a from"@dojoengine/torii-wasm";async function E(c){let d={...o,...c.client},n=new a.ToriiClient(d);return{getEntities:async t=>r((await n.getEntities(t)).items),getEvents:async t=>{let e=await n.getEventMessages(t);return r(e.items)},subscribeEntities:async(t,e)=>[r((await n.getEntities(t)).items),n.onEntityUpdated(t.clause,(y,s)=>{try{if(e){let i=r([s]);e({data:i})}}catch(i){e&&e({error:i instanceof Error?i:new Error(String(i))})}})],subscribeEvents:async(t,e)=>{if(t.no_hashed_keys&&t.clause&&!Object.hasOwn(t.clause,"Keys"))throw new Error("For subscription, you need to include entity ids");return[r((await n.getEventMessages(t)).items),n.onEventMessageUpdated(t.clause,(y,s)=>{try{if(e){let i=r([s]);e({data:i})}}catch(i){e&&e({error:i instanceof Error?i:new Error(String(i))})}})]}}}export{E as init};
//# sourceMappingURL=experimental.js.map